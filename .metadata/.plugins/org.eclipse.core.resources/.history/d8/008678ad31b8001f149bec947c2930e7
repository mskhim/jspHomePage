document.addEventListener("DOMContentLoaded", () => {
  const menuItems = document.querySelectorAll(".mainMenu > li");
  const subMenuContainer = document.querySelector(".subMenuContainer");
  const subMenus = document.querySelectorAll(".subMenu");

  menuItems.forEach((menuItem) => {
    menuItem.addEventListener("mouseenter", () => {
      const targetMenu = menuItem.getAttribute("data-menu");

      // 모든 하위 메뉴 숨김
      subMenus.forEach((subMenu) => {
        subMenu.classList.remove("active");
      });

      // 활성화된 하위 메뉴 보이기
      const activeSubMenu = document.querySelector(
        `.subMenu[data-submenu="${targetMenu}"]`
      );
      if (activeSubMenu) {
        subMenus.forEach((subMenu) => {
          subMenu.style.opacity = "0";
        });
        activeSubMenu.classList.add("active");
        subMenuContainer.style.height = "80px"; // 하위 메뉴 틀 높이
        setTimeout(() => {
          activeSubMenu.style.opacity = "1";
        }, 150);
      }
    });
  });

  // 메뉴 전체 숨김 처리
  subMenuContainer.addEventListener("mouseleave", () => {
    subMenuContainer.style.height = "0"; // 메뉴 숨기기
    subMenus.forEach((subMenu) => {
      subMenu.classList.remove("active");
    });
  });
});

