package co.kh.dev.home.action.customer;

import java.io.IOException;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import co.kh.dev.common.MyUtility;
import co.kh.dev.home.action.Action;
import co.kh.dev.home.control.ActionForward;
import co.kh.dev.home.model.CustomerDAO;
import co.kh.dev.home.model.CustomerVO;

public class CustomerIdDupCheckAction implements Action {

	@Override
	public ActionForward execute(HttpServletRequest request, HttpServletResponse response) throws IOException {
		request.setCharacterEncoding("UTF-8");
		HttpSession session = request.getSession(false);
		ActionForward forward = null;
		CustomerDAO sDAO = CustomerDAO.getInstance(); 
		request.setCharacterEncoding("UTF-8");
		String id= request.getParameter("id");
		CustomerVO cvo = new CustomerVO();
		cvo.setId(id);
		boolean checkFlag = sDAO.selectCountByIdDB(cvo);
		if(checkFlag)
		forward = new ActionForward(request.getContextPath() + "/myPageAlert.do?status=3", false);
		return forward;
	}

}
