function toggleAll(checkbox) {
	const checkboxes = document.querySelectorAll('input[name="cartNo"]');
	const eachPrices = document.querySelectorAll(`[class^="eachPrice"]`);
	const currentTotal = parseFloat(document.querySelector(`#totalPrice`).value) || 0;
	let totalPrice= 0;
	checkboxes.forEach(cb => cb.checked = checkbox.checked);
	eachPrices.forEach(data=>data.value+totalPrice=totalPrice);
}

function deleteCartItem(cartNo) {
	if (confirm("정말 삭제하시겠습니까?")) {
		// Ajax 요청으로 삭제 처리
		fetch(`/jspHomePage/shopCartDelete.do?no=${cartNo}`, { method: 'POST' }).then(response => response.text()).then(data => {
			if (data === "SUCCESS") {
				alert("삭제되었습니다.")
				window.location.reload();
			} else {
				alert("잘못된 접근입니다.")
			}
		}
		)
	}
}


function changePrice(cartNo, cartPrice) {
	const qt = document.querySelector(`.quantity-input${cartNo}`);
	const ecPrice = document.querySelector(`.eachPrice${cartNo}`);
	ecPrice.value = qt.value * cartPrice;

}


function setPrice(checkbox) {
	const cartNo = checkbox.value;
	const nowPrice = document.querySelector(`#totalPrice`);
	const ecPrice = document.querySelector(`.eachPrice${checkbox.value}`);
	
	const currentTotal = parseFloat(nowPrice.value) || 0;
	const eachPrice = parseFloat(ecPrice.value) || 0;
	console.log(cartNo);
	console.log(currentTotal);
	console.log(eachPrice);
	if (checkbox.checked) {
		nowPrice.value = currentTotal + eachPrice;
	} else {
		nowPrice.value = currentTotal - eachPrice;
	}
}